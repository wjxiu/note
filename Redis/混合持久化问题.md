## 混合持久化相关问题

### 为什么会有混合持久化？

为了解决aof和rdb的缺点，混合模式结合了aof和rdb的优点

aof的优点是生成性能高，缺点是恢复时间慢，rdb的优点是恢复时间快，缺点是快照生成的时机不好把握，频率高影响性能，频率低会丢失很多数据。

为了解决aof和rdb的缺点，就有了混合模式。

混合模式的文件同时保存着aof和rdb文件，如果发生了aof重写，不会生成新的aof文件，会将aof文件的数据存储到rdb中，并将aof文件清空。既保证了生成速度也保证了恢复时间快



### 混合模式的缺点

可读性差

兼容性差 ，4.0之前不能使用混合模式